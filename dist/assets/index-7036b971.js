(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const N of c.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&a(N)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();const st="./boxes.svg",p=document.getElementById("app");function i(){return document.createElement("br")}function ht(){return document.createElement("h1")}function x(){return document.createElement("h2")}function m(){return document.createElement("div")}function l(){return document.createElement("input")}function v(){return document.createElement("button")}function ft(){return document.createElement("img")}function z(){return document.createElement("label")}function Ct(){return document.createElement("table")}function mt(){return document.createElement("tr")}function L(){return document.createElement("th")}function vt(){return document.createElement("tbody")}function A(n,t){const e=document.createElement("div");e.textContent=n,e.className="alerta",e.style.color=t,e.style.backgroundColor="#f9f9f9",p.appendChild(e),p.appendChild(i()),setTimeout(()=>{p.removeChild(e)},3e3)}const b=z(),T=v();T.textContent='<i class="bi bi-x-square"></i>';b.className="boton-fijo";const S=ft();S.className="logo";S.src=`${st}`;const K=ht();K.textContent="Inicio de Sesion";const u=m(),q=l();q.placeholder="Ingresa usuario";const j=l();j.placeholder="Ingresa contraseña";j.type="password";const V=v();V.textContent="Ingresar";u.appendChild(S);u.appendChild(K);u.appendChild(q);u.appendChild(i());u.appendChild(j);u.appendChild(i());u.appendChild(V);function _t(){p.appendChild(u)}function R(){p.removeChild(u)}const Q=x();Q.textContent="Tabla Inventario";const w=m();w.className="d-scroll";const D=Ct(),_=mt(),U=L();U.textContent="id";const $=L();$.textContent="producto";const G=L();G.textContent="compra";const J=L();J.textContent="venta";const W=L();W.textContent="fecha";const X=L();X.textContent="cantidad";const Y=L();Y.textContent="acción";const I=vt(),Z=x();Z.textContent="Registro inventario";const d=m(),g=l();g.placeholder="codigo";const y=l();y.placeholder="Producto";const s=l();s.placeholder="Precio compra";s.type="number";const h=l();h.placeholder="Precio venta";h.type="number";const M=z();M.textContent="Fecha";M.for="fecha_a";const E=l();E.type="date";const f=l();f.type="number";f.placeholder="Cantidad";const H=v();H.textContent="guardar";const tt=v();tt.textContent="borrar";d.appendChild(Z);d.appendChild(g);d.appendChild(i());d.appendChild(y);d.appendChild(i());d.appendChild(s);d.appendChild(i());d.appendChild(h);d.appendChild(i());d.appendChild(M);d.appendChild(E);d.appendChild(i());d.appendChild(f);d.appendChild(i());d.appendChild(H);d.appendChild(tt);w.appendChild(Q);w.appendChild(i());D.appendChild(_);D.appendChild(I);_.appendChild(U);_.appendChild($);_.appendChild(G);_.appendChild(J);_.appendChild(W);_.appendChild(X);_.appendChild(Y);const et=x();et.textContent="Resumen ventas";const nt=m();nt.appendChild(et);const at=x();at.textContent="Empleados";const k=m(),ot=x();k.appendChild(at);k.appendChild(ot);function bt(){p.appendChild(d),p.appendChild(w),w.appendChild(D),p.appendChild(nt),p.appendChild(k)}const r=m(),dt=x();dt.textContent="Vender";const F=l();F.placeholder="Busqueda";const P=l();P.placeholder="producto";const B=l();B.placeholder="Cantidad";B.type="number";const it=v();it.textContent="Buscar";const rt=v();rt.textContent="Agregar";const ct=v();ct.textContent="Quitar";const gt=m(),pt=v();pt.textContent="Vender e imprimir";r.appendChild(dt);r.appendChild(F);r.appendChild(i());r.appendChild(P);r.appendChild(i());r.appendChild(B);r.appendChild(i());r.appendChild(it);r.appendChild(i());r.appendChild(rt);r.appendChild(ct);r.appendChild(i());r.appendChild(gt);r.appendChild(i());r.appendChild(pt);const lt=x();lt.textContent="Tabla Inventario";const O=m();O.appendChild(lt);O.className="d-scroll";T.addEventListener("click",()=>location.href="./index.html");function yt(){p.appendChild(r),O.appendChild(D),p.appendChild(O)}V.addEventListener("click",()=>{Et()});H.addEventListener("click",()=>{let n=g.value.length,t=y.value.length,e=s.value.length,a=h.value.length,o=E.value.length,c=f.value.length;n>0&t>0&e>0&a>0&o>0&c>0?(wt(),g.value="",y.value="",s.value="",h.value="",E.value="",f.value=""):A("Llenar todos los campos","red")});async function Et(){let n=new FormData;n.append("usuario",q.value),n.append("contrasenia",j.value),await fetch("./ingresar.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{t[0].perfil=="Administrador"?(b.textContent+="Administrador",p.appendChild(b),b.appendChild(T),It(),Tt(),bt(),R(),A("Administrador","#000")):t[0].perfil=="Vendedor"?(b.textContent="Vendedor",p.appendChild(b),b.appendChild(T),Bt(),yt(),R(),A("Vendedor","#000")):A("usuario o contraseña incorrectos","red")})}async function xt(n){let t=new FormData;t.append("id_modificacion",n),await fetch("modificar.php",{method:"POST",body:t}).then(e=>e.json()).then(e=>{g.value="",y.value="",s.value="",h.value="",E.value="",f.value="",e.forEach(a=>{g.value=a.id_producto,y.value=a.producto_a,s.value=a.compra_a,h.value=a.venta_a,E.value=a.fecha_a,f.value=a.cantidad_a})})}async function Lt(n){let t=new FormData;t.append("id_modificacion",n),await fetch("modificar.php",{method:"POST",body:t}).then(e=>e.json()).then(e=>{F.value="",P.value="",B.value="",e.forEach(a=>{F.value=a.id_producto,P.value=a.producto_a,B.max=a.cantidad_a})})}let C=[];async function wt(){I.innerHTML="";let n=new FormData;n.append("id_producto",g.value),n.append("producto_a",y.value),n.append("compra_a",s.value),n.append("venta_a",h.value),n.append("fecha_a",E.value),n.append("cantidad_a",f.value),await fetch("guardarInventario.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{let e="";C=[],t.forEach(a=>{C.push(a.id_producto),e+="<tr>",e+="<td>"+a.id_producto+"</td>",e+="<td>"+a.producto_a+"</td>",e+="<td>"+a.compra_a+"</td>",e+="<td>"+a.venta_a+"</td>",e+="<td>"+a.fecha_a+"</td>",e+="<td>"+a.cantidad_a+"</td>",e+='<td><button class="myButton">modificar</button></td>',e+="</tr>"}),I.innerHTML=e,ut()})}async function It(){await fetch("inventario.php").then(n=>n.json()).then(n=>{let t="";C=[],n.forEach(e=>{C.push(e.id_producto),t+="<tr>",t+="<td>"+e.id_producto+"</td>",t+="<td>"+e.producto_a+"</td>",t+="<td>"+e.compra_a+"</td>",t+="<td>"+e.venta_a+"</td>",t+="<td>"+e.fecha_a+"</td>",t+="<td>"+e.cantidad_a+"</td>",t+='<td><button class="myButton">modificar</button></td>',t+="</tr>"}),I.innerHTML=t,ut()})}async function Bt(){await fetch("inventario.php").then(n=>n.json()).then(n=>{let t="";C=[],n.forEach(e=>{C.push(e.id_producto),t+="<tr>",t+="<td>"+e.id_producto+"</td>",t+="<td>"+e.producto_a+"</td>",t+="<td>"+e.compra_a+"</td>",t+="<td>"+e.venta_a+"</td>",t+="<td>"+e.fecha_a+"</td>",t+="<td>"+e.cantidad_a+"</td>",t+='<td><button class="myButton2">Elegir</button></td>',t+="</tr>"}),I.innerHTML=t,At()})}function ut(){document.querySelectorAll(".myButton").forEach((t,e)=>{t.onclick=()=>xt(C[e])})}function At(){document.querySelectorAll(".myButton2").forEach((t,e)=>{t.onclick=()=>Lt(C[e])})}async function Tt(){await fetch("verusuarios.php").then(n=>n.json()).then(n=>{n.forEach(t=>{ot.innerHTML+="<div>"+t.usuario+"</div>"})})}_t();
