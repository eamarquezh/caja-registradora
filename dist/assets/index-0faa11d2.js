(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const A of c.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();const rt="./boxes.svg",p=document.getElementById("app");function r(){return document.createElement("br")}function it(){return document.createElement("h1")}function m(){return document.createElement("h2")}function u(){return document.createElement("div")}function l(){return document.createElement("input")}function C(){return document.createElement("button")}function ct(){return document.createElement("img")}function pt(){return document.createElement("label")}function lt(){return document.createElement("table")}function st(){return document.createElement("tr")}function f(){return document.createElement("th")}function ut(){return document.createElement("tbody")}function L(n,t){const e=document.createElement("div");e.textContent=n,e.className="alerta",e.style.color=t,e.style.backgroundColor="#f9f9f9",p.appendChild(e),p.appendChild(r()),setTimeout(()=>{p.removeChild(e)},3e3)}const P=ct();P.className="logo";P.src=`${rt}`;const q=it();q.textContent="Inicio de Sesion";const s=u(),O=l();O.placeholder="Ingresa usuario";const I=l();I.placeholder="Ingresa contraseña";I.type="password";const T=C();T.textContent="Ingresar";s.appendChild(P);s.appendChild(q);s.appendChild(O);s.appendChild(r());s.appendChild(I);s.appendChild(r());s.appendChild(T);function ht(){p.appendChild(s)}function j(){p.removeChild(s)}const M=m();M.textContent="Tabla Inventario";const y=u();y.className="d-scroll";const w=lt(),h=st(),H=f();H.textContent="id";const R=f();R.textContent="producto";const k=f();k.textContent="compra";const z=f();z.textContent="venta";const K=f();K.textContent="fecha";const Q=f();Q.textContent="cantidad";const U=f();U.textContent="acción";const B=ut(),$=m();$.textContent="Registro inventario";const a=u(),v=l();v.placeholder="codigo";const x=l();x.placeholder="Producto";const _=l();_.placeholder="Precio compra";_.type="number";const g=l();g.placeholder="Precio venta";g.type="number";const D=pt();D.textContent="Fecha";D.for="fecha_a";const E=l();E.type="date";const b=l();b.type="number";b.placeholder="Cantidad";const N=C();N.textContent="guardar";const G=C();G.textContent="borrar";a.appendChild($);a.appendChild(v);a.appendChild(r());a.appendChild(x);a.appendChild(r());a.appendChild(_);a.appendChild(r());a.appendChild(g);a.appendChild(r());a.appendChild(D);a.appendChild(E);a.appendChild(r());a.appendChild(b);a.appendChild(r());a.appendChild(N);a.appendChild(G);y.appendChild(M);y.appendChild(r());w.appendChild(h);w.appendChild(B);h.appendChild(H);h.appendChild(R);h.appendChild(k);h.appendChild(z);h.appendChild(K);h.appendChild(Q);h.appendChild(U);const J=m();J.textContent="Resumen ventas";const W=u();W.appendChild(J);const X=m();X.textContent="Empleados";const S=u(),Y=m();S.appendChild(X);S.appendChild(Y);function mt(){p.appendChild(a),p.appendChild(y),y.appendChild(w),p.appendChild(W),p.appendChild(S)}const i=u(),Z=m();Z.textContent="Vender";const tt=l();tt.placeholder="Busqueda";const V=l();V.placeholder="Cantidad";V.type="number";const et=C();et.textContent="Buscar";const nt=C();nt.textContent="Agregar";const ot=C();ot.textContent="Quitar";const Ct=u(),at=C();at.textContent="Vender e imprimir";i.appendChild(Z);i.appendChild(tt);i.appendChild(r());i.appendChild(V);i.appendChild(r());i.appendChild(et);i.appendChild(r());i.appendChild(nt);i.appendChild(ot);i.appendChild(r());i.appendChild(Ct);i.appendChild(r());i.appendChild(at);const dt=m();dt.textContent="Tabla Inventario";const F=u();F.appendChild(dt);function ft(){p.appendChild(i),F.appendChild(w),p.appendChild(F)}T.addEventListener("click",()=>{vt()});N.addEventListener("click",()=>{let n=v.value.length,t=x.value.length,e=_.value.length,d=g.value.length,o=E.value.length,c=b.value.length;n>0&t>0&e>0&d>0&o>0&c>0?(gt(),v.value="",x.value="",_.value="",g.value="",E.value="",b.value=""):L("Llenar todos los campos","red")});async function vt(){let n=new FormData;n.append("usuario",O.value),n.append("contrasenia",I.value),await fetch("./ingresar.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{t[0].perfil=="Administrador"?(bt(),xt(),mt(),j(),L("Administrador","#000")):t[0].perfil=="Vendedor"?(ft(),j(),L("Vendedor","#000")):L("usuario o contraseña incorrectos","red")})}async function _t(n){let t=new FormData;t.append("id_modificacion",n),await fetch("modificar.php",{method:"POST",body:t}).then(e=>e.json()).then(e=>{e.forEach(d=>{v.value=d.id_producto})})}async function gt(){let n=new FormData;n.append("id_producto",v.value),n.append("producto_a",x.value),n.append("compra_a",_.value),n.append("venta_a",g.value),n.append("fecha_a",E.value),n.append("cantidad_a",b.value),await fetch("guardarInventario.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{let e="";t.forEach(d=>{e+="<tr>",e+="<td>"+d.id_producto+"</td>",e+="<td>"+d.producto_a+"</td>",e+="<td>"+d.compra_a+"</td>",e+="<td>"+d.venta_a+"</td>",e+="<td>"+d.fecha_a+"</td>",e+="<td>"+d.cantidad_a+"</td>",e+=`<td><button id="'`+d.id_producto+`'" onclick="modificarInventario('`+d.id_producto+`');">modificar</button></td>`,e+="</tr>"}),B.innerHTML=e})}async function bt(){await fetch("inventario.php").then(n=>n.json()).then(n=>{let t="";n.forEach(e=>{t+="<tr>",t+="<td>"+e.id_producto+"</td>",t+="<td>"+e.producto_a+"</td>",t+="<td>"+e.compra_a+"</td>",t+="<td>"+e.venta_a+"</td>",t+="<td>"+e.fecha_a+"</td>",t+="<td>"+e.cantidad_a+"</td>",t+='<td><button class="myButton">modificar</button></td>',t+="</tr>"}),B.innerHTML=t,yt()})}function yt(){const n=document.querySelectorAll(".myButton");console.log(n),n.forEach(t=>{t.onclick=()=>_t(t.id),console.log(t.id)})}async function xt(){await fetch("verusuarios.php").then(n=>n.json()).then(n=>{n.forEach(t=>{Y.innerHTML+="<div>"+t.usuario+"</div>"})})}ht();
