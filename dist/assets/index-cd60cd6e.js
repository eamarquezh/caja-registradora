(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const F of c.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&i(F)}).observe(document,{childList:!0,subtree:!0});function e(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=e(a);fetch(a.href,c)}})();const de="./boxes.svg",p=document.getElementById("app");function d(){return document.createElement("br")}function re(){return document.createElement("h1")}function g(){return document.createElement("h2")}function u(){return document.createElement("div")}function l(){return document.createElement("input")}function C(){return document.createElement("button")}function ce(){return document.createElement("img")}function ie(){return document.createElement("label")}function pe(){return document.createElement("table")}function le(){return document.createElement("tr")}function m(){return document.createElement("th")}function se(){return document.createElement("tbody")}function L(n,t){const e=document.createElement("div");e.textContent=n,e.className="alerta",e.style.color=t,e.style.backgroundColor="#f9f9f9",p.appendChild(e),p.appendChild(d()),setTimeout(()=>{p.removeChild(e)},3e3)}const w=ce();w.className="logo";w.src=`${de}`;const j=re();j.textContent="Inicio de Sesion";const s=u(),O=l();O.placeholder="Ingresa usuario";const I=l();I.placeholder="Ingresa contraseña";I.type="password";const T=C();T.textContent="Ingresar";s.appendChild(w);s.appendChild(j);s.appendChild(O);s.appendChild(d());s.appendChild(I);s.appendChild(d());s.appendChild(T);function ue(){p.appendChild(s)}function S(){p.removeChild(s)}const B=g();B.textContent="Tabla Inventario";const b=u();b.className="d-scroll";const A=pe(),h=le(),M=m();M.textContent="id";const H=m();H.textContent="producto";const R=m();R.textContent="compra";const z=m();z.textContent="venta";const K=m();K.textContent="fecha";const Q=m();Q.textContent="cantidad";const $=m();$.textContent="acción";const N=se(),G=g();G.textContent="Registro inventario";const o=u(),y=l();y.placeholder="codigo";const x=l();x.placeholder="Producto";const f=l();f.placeholder="Precio compra";f.type="number";const v=l();v.placeholder="Precio venta";v.type="number";const V=ie();V.textContent="Fecha";V.for="fecha_a";const E=l();E.type="date";const _=l();_.type="number";_.placeholder="Cantidad";const q=C();q.textContent="guardar";const J=C();J.textContent="borrar";o.appendChild(G);o.appendChild(y);o.appendChild(d());o.appendChild(x);o.appendChild(d());o.appendChild(f);o.appendChild(d());o.appendChild(v);o.appendChild(d());o.appendChild(V);o.appendChild(E);o.appendChild(d());o.appendChild(_);o.appendChild(d());o.appendChild(q);o.appendChild(J);b.appendChild(B);b.appendChild(d());A.appendChild(h);A.appendChild(N);h.appendChild(M);h.appendChild(H);h.appendChild(R);h.appendChild(z);h.appendChild(K);h.appendChild(Q);h.appendChild($);const U=g();U.textContent="Resumen ventas";const W=u();W.appendChild(U);const X=g();X.textContent="Empleados";const Y=u();Y.appendChild(X);function he(){p.appendChild(o),p.appendChild(b),b.appendChild(A),p.appendChild(W),p.appendChild(Y)}const r=u(),Z=g();Z.textContent="Vender";const k=l();k.placeholder="Busqueda";const D=l();D.placeholder="Cantidad";D.type="number";const ee=C();ee.textContent="Buscar";const te=C();te.textContent="Agregar";const ne=C();ne.textContent="Quitar";const Ce=u(),ae=C();ae.textContent="Vender e imprimir";r.appendChild(Z);r.appendChild(k);r.appendChild(d());r.appendChild(D);r.appendChild(d());r.appendChild(ee);r.appendChild(d());r.appendChild(te);r.appendChild(ne);r.appendChild(d());r.appendChild(Ce);r.appendChild(d());r.appendChild(ae);const oe=g();oe.textContent="Tabla Inventario";const P=u();P.appendChild(oe);function me(){p.appendChild(r),P.appendChild(A),p.appendChild(P)}T.addEventListener("click",()=>{fe()});q.addEventListener("click",()=>{let n=y.value.length,t=x.value.length,e=f.value.length,i=v.value.length,a=E.value.length,c=_.value.length;n>0&t>0&e>0&i>0&a>0&c>0?(ve(),y.value="",x.value="",f.value="",v.value="",E.value="",_.value=""):L("Llenar todos los campos","red")});async function fe(){let n=new FormData;n.append("usuario",O.value),n.append("contrasenia",I.value),await fetch("./ingresar.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{t[0].perfil=="Administrador"?(_e(),he(),S(),L("Administrador","#000")):t[0].perfil=="Vendedor"?(me(),S(),L("Vendedor","#000")):L("usuario o contraseña incorrectos","red")})}async function ve(){let n=new FormData;n.append("id_producto",y.value),n.append("producto_a",x.value),n.append("compra_a",f.value),n.append("venta_a",v.value),n.append("fecha_a",E.value),n.append("cantidad_a",_.value),await fetch("guardarInventario.php",{method:"POST",body:n}).then(t=>t.json()).then(t=>{let e="";t.forEach(i=>{e+="<tr>",e+="<td>"+i.id_producto+"</td>",e+="<td>"+i.producto_a+"</td>",e+="<td>"+i.compra_a+"</td>",e+="<td>"+i.venta_a+"</td>",e+="<td>"+i.fecha_a+"</td>",e+="<td>"+i.cantidad_a+"</td>",e+="</tr>"}),N.innerHTML=e})}async function _e(){await fetch("inventario.php").then(n=>n.json()).then(n=>{let t="";n.forEach(e=>{t+="<tr>",t+="<td>"+e.id_producto+"</td>",t+="<td>"+e.producto_a+"</td>",t+="<td>"+e.compra_a+"</td>",t+="<td>"+e.venta_a+"</td>",t+="<td>"+e.fecha_a+"</td>",t+="<td>"+e.cantidad_a+"</td>",t+="</tr>"}),N.innerHTML=t})}ue();
